<!DOCTYPE html>
<html lang='en'>
<head>
   <meta charset='UTF-8'>
   <meta http-equiv='X-UA-Compatible' content='IE=edge'>
   <meta name='viewport' content='width=device-width, initial-scale=1.0'>
   <title>Document</title>
   <link rel='stylesheet' href='styles/style.css'>
   <link rel='stylesheet' href='styles/chat.css'>
   <link rel='stylesheet' href='styles/logs.css'>
   <link rel='stylesheet' href='styles/sidebar.css'>
   <script src='https://github.com/tmijs/tmi.js/releases/download/v1.8.5/tmi.min.js'></script>
   <script src='https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
</head>
<body>
   <div class='sidebar'>
      <div class='sidebar-item sidebar-button-settings' onclick="clickedSidebarItem('settings')" title='Settings'>
         <img src='assets/sidebar/setting.png'>
      </div>
      <div class='sidebar-item sidebar-button-chat-information' onclick="clickedSidebarItem('chat-information')" title='Chat informations'>
         <img src='assets/sidebar/information.png'>
      </div>
      <a class='sidebar-text' target='_blank' href='https://github.com/encoderpie/twitch-chat-tmijs'>DEVELOPED BY ENCODERPIE</a>
   </div>
   <div class='sidebar-popup sidebar-box-settings' style="display: none;">
      <p>CHAT SETTINGS</p>
      <table class='setting-item-checkbox-table'>
         <tr>
            <td>Show time?</td>
            <td><input type="checkbox" onclick="chatSettingCheckboxClicked('show-time')" id='show-time'></td>
         </tr>
         <tr>
            <td>Show badges?</td>
            <td><input type="checkbox" onclick="chatSettingCheckboxClicked('show-badges')" id='show-badges'></td>
         </tr>
         <tr>
            <td>Should the author colors be one color?</td>
            <td><input type="checkbox" onclick="chatSettingCheckboxClicked('author_colors_single_color')" id='author_colors_single_color'></td>
         </tr>
         <tr>
            <td>Maximum number of messages to show in chat</td>
            <td>
               <div class='chat-settings-input'>
                  <input type='button' value='Apply' onclick="chatSettingsMessageLimit('chat-message-limit')"/>
                  <input type='number' id='chat-message-limit'/>
               </div>
            </td>
         </tr>
      </table>
   </div>
   <div class='sidebar-popup sidebar-box-chat-information' style="display: none;">
      <p>CHAT INFORMATION</p>
      <table id='chat-informations'><tr><td>Data will be updated when message is sent to chat</td></tr></table>
   </div>
   <script>
      function clickedSidebarItem(item, button_item) {
         const box = document.querySelector(`.sidebar-box-${item}`)
         const button = document.querySelector(`.sidebar-button-${item}`)
         box.style.display = 'block'
         document.addEventListener('click', e => {
            if (
               !e.composedPath().includes(box) &&
               !e.composedPath().includes(button)
            ) {
               box.style.display = 'none'
            }
         })
      }
   </script>
   <div class='log-panels-back-box'>
      <div class='log-subs log-panel'>
         <div class='log-title'>SUBSCRIPTIONS & GIFTS</div>
         <div id='sub-logs-area' class='logs-area'></div>
      </div>
      <div class='log-hosts log-panel'>
         <div class='log-title'>HOSTS & RAIDS</div>
         <div id='host-logs-area' class='logs-area'></div>
      </div>
   </div>
   <div class='chat-box'>
      <div id='followChat' class="follow-chat">
         <p id='followChatInnerText'>Follow the chat</p>
      </div>
      <div id='chat'></div>
   </div>
   <script src="chat.js"></script>
</body>
</html>